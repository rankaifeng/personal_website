"use strict";var fs=require("fs"),path=require("path"),webpack=require("webpack"),resolve=require("resolve"),PnpWebpackPlugin=require("pnp-webpack-plugin"),HtmlWebpackPlugin=require("html-webpack-plugin"),CaseSensitivePathsPlugin=require("case-sensitive-paths-webpack-plugin"),InlineChunkHtmlPlugin=require("react-dev-utils/InlineChunkHtmlPlugin"),TerserPlugin=require("terser-webpack-plugin"),MiniCssExtractPlugin=require("mini-css-extract-plugin"),OptimizeCSSAssetsPlugin=require("optimize-css-assets-webpack-plugin"),safePostCssParser=require("postcss-safe-parser"),ManifestPlugin=require("webpack-manifest-plugin"),InterpolateHtmlPlugin=require("react-dev-utils/InterpolateHtmlPlugin"),WorkboxWebpackPlugin=require("workbox-webpack-plugin"),WatchMissingNodeModulesPlugin=require("react-dev-utils/WatchMissingNodeModulesPlugin"),ModuleScopePlugin=require("react-dev-utils/ModuleScopePlugin"),getCSSModuleLocalIdent=require("react-dev-utils/getCSSModuleLocalIdent"),paths=require("./paths"),getClientEnvironment=require("./env"),ModuleNotFoundPlugin=require("react-dev-utils/ModuleNotFoundPlugin"),ForkTsCheckerWebpackPlugin=require("react-dev-utils/ForkTsCheckerWebpackPlugin"),typescriptFormatter=require("react-dev-utils/typescriptFormatter"),shouldUseSourceMap="false"!==process.env.GENERATE_SOURCEMAP,shouldInlineRuntimeChunk="false"!==process.env.INLINE_RUNTIME_CHUNK,useTypeScript=fs.existsSync(paths.appTsConfig),cssRegex=/\.css$/,cssModuleRegex=/\.module\.css$/,sassRegex=/\.(scss|sass)$/,sassModuleRegex=/\.module\.(scss|sass)$/,lessRegex=/\.less$/,lessModuleRegex=/\.module\.less$/;module.exports=function(e){function s(e,s){var t=[r&&require.resolve("style-loader"),a&&{loader:MiniCssExtractPlugin.loader,options:Object.assign({},o?{publicPath:"../../"}:void 0)},{loader:require.resolve("css-loader"),options:e},{loader:require.resolve("postcss-loader"),options:{ident:"postcss",plugins:function(){return[require("postcss-flexbugs-fixes"),require("postcss-preset-env")({autoprefixer:{flexbox:"no-2009"},stage:3})]},sourceMap:a&&shouldUseSourceMap}}].filter(Boolean);return s&&t.push({loader:require.resolve(s),options:{sourceMap:a&&shouldUseSourceMap}}),t}var r="development"===e,a="production"===e,t=a?paths.servedPath:r&&"/",o="./"===t,i=a?t.slice(0,-1):r&&"",l=getClientEnvironment(i);return{mode:a?"production":r&&"development",bail:a,devtool:a?!!shouldUseSourceMap&&"source-map":r&&"cheap-module-source-map",entry:[r&&require.resolve("react-dev-utils/webpackHotDevClient"),paths.appIndexJs].filter(Boolean),output:{path:a?paths.appBuild:void 0,pathinfo:r,filename:a?"static/js/[name].[contenthash:8].js":r&&"static/js/bundle.js",chunkFilename:a?"static/js/[name].[contenthash:8].chunk.js":r&&"static/js/[name].chunk.js",publicPath:t,devtoolModuleFilenameTemplate:a?function(e){return path.relative(paths.appSrc,e.absoluteResourcePath).replace(/\\/g,"/")}:r&&function(e){return path.resolve(e.absoluteResourcePath).replace(/\\/g,"/")}},optimization:{minimize:a,minimizer:[new TerserPlugin({terserOptions:{parse:{ecma:8},compress:{ecma:5,warnings:!1,comparisons:!1,inline:2},mangle:{safari10:!0},output:{ecma:5,comments:!1,ascii_only:!0}},parallel:!0,cache:!0,sourceMap:shouldUseSourceMap}),new OptimizeCSSAssetsPlugin({cssProcessorOptions:{parser:safePostCssParser,map:!!shouldUseSourceMap&&{inline:!1,annotation:!0}}})],splitChunks:{chunks:"all",name:!1},runtimeChunk:!0},resolve:{modules:["node_modules"].concat(process.env.NODE_PATH.split(path.delimiter).filter(Boolean)),extensions:paths.moduleFileExtensions.map(function(e){return".".concat(e)}).filter(function(e){return useTypeScript||!e.includes("ts")}),alias:{"@less":path.resolve(__dirname,"../src/less"),"@config":path.resolve(__dirname,"../src/config"),"react-native":"react-native-web"},plugins:[PnpWebpackPlugin,new ModuleScopePlugin(paths.appSrc,[paths.appPackageJson])]},resolveLoader:{plugins:[PnpWebpackPlugin.moduleLoader(module)]},module:{strictExportPresence:!0,rules:[{parser:{requireEnsure:!1}},{test:/\.(js|mjs|jsx)$/,enforce:"pre",use:[{options:{formatter:require.resolve("react-dev-utils/eslintFormatter"),eslintPath:require.resolve("eslint")},loader:require.resolve("eslint-loader")}],include:paths.appSrc},{oneOf:[{test:[/\.bmp$/,/\.gif$/,/\.jpe?g$/,/\.png$/],loader:require.resolve("url-loader"),options:{limit:1e4,name:"static/media/[name].[hash:8].[ext]"}},{test:/\.(js|mjs|jsx|ts|tsx)$/,include:paths.appSrc,loader:require.resolve("babel-loader"),options:{customize:require.resolve("babel-preset-react-app/webpack-overrides"),plugins:[[require.resolve("babel-plugin-named-asset-import"),{loaderMap:{svg:{ReactComponent:"@svgr/webpack?-svgo,+ref![path]"}}}]],cacheDirectory:!0,cacheCompression:a,compact:a}},{test:/\.(js|mjs)$/,exclude:/@babel(?:\/|\\{1,2})runtime/,loader:require.resolve("babel-loader"),options:{babelrc:!1,configFile:!1,compact:!1,presets:[[require.resolve("babel-preset-react-app/dependencies"),{helpers:!0}]],cacheDirectory:!0,cacheCompression:a,sourceMaps:!1}},{test:cssRegex,exclude:cssModuleRegex,use:s({importLoaders:1,sourceMap:a&&shouldUseSourceMap}),sideEffects:!0},{test:cssModuleRegex,use:s({importLoaders:1,sourceMap:a&&shouldUseSourceMap,modules:!0,getLocalIdent:getCSSModuleLocalIdent})},{test:sassRegex,exclude:sassModuleRegex,use:s({importLoaders:2,sourceMap:a&&shouldUseSourceMap},"sass-loader"),sideEffects:!0},{test:sassModuleRegex,use:s({importLoaders:2,sourceMap:a&&shouldUseSourceMap,modules:!0,getLocalIdent:getCSSModuleLocalIdent},"sass-loader")},{test:lessRegex,exclude:sassModuleRegex,use:s({importLoaders:2,sourceMap:a&&shouldUseSourceMap},"less-loader"),sideEffects:!0},{test:lessModuleRegex,use:s({importLoaders:2,sourceMap:a&&shouldUseSourceMap,modules:!0,getLocalIdent:getCSSModuleLocalIdent},"less-loader")},{loader:require.resolve("file-loader"),exclude:[/\.(js|mjs|jsx|ts|tsx)$/,/\.html$/,/\.json$/],options:{name:"static/media/[name].[hash:8].[ext]"}}]}]},plugins:[new HtmlWebpackPlugin(Object.assign({},{inject:!0,template:paths.appHtml},a?{minify:{removeComments:!0,collapseWhitespace:!0,removeRedundantAttributes:!0,useShortDoctype:!0,removeEmptyAttributes:!0,removeStyleLinkTypeAttributes:!0,keepClosingSlash:!0,minifyJS:!0,minifyCSS:!0,minifyURLs:!0}}:void 0)),a&&shouldInlineRuntimeChunk&&new InlineChunkHtmlPlugin(HtmlWebpackPlugin,[/runtime~.+[.]js/]),new InterpolateHtmlPlugin(HtmlWebpackPlugin,l.raw),new ModuleNotFoundPlugin(paths.appPath),new webpack.DefinePlugin(l.stringified),r&&new webpack.HotModuleReplacementPlugin,r&&new CaseSensitivePathsPlugin,r&&new WatchMissingNodeModulesPlugin(paths.appNodeModules),a&&new MiniCssExtractPlugin({filename:"static/css/[name].[contenthash:8].css",chunkFilename:"static/css/[name].[contenthash:8].chunk.css"}),new ManifestPlugin({fileName:"asset-manifest.json",publicPath:t}),new webpack.IgnorePlugin(/^\.\/locale$/,/moment$/),a&&new WorkboxWebpackPlugin.GenerateSW({clientsClaim:!0,exclude:[/\.map$/,/asset-manifest\.json$/],importWorkboxFrom:"cdn",navigateFallback:i+"/index.html",navigateFallbackBlacklist:[new RegExp("^/_"),new RegExp("/[^/]+\\.[^/]+$")]}),useTypeScript&&new ForkTsCheckerWebpackPlugin({typescript:resolve.sync("typescript",{basedir:paths.appNodeModules}),async:r,useTypescriptIncrementalApi:!0,checkSyntacticErrors:!0,tsconfig:paths.appTsConfig,reportFiles:["**","!**/*.json","!**/__tests__/**","!**/?(*.)(spec|test).*","!**/src/setupProxy.*","!**/src/setupTests.*"],watch:paths.appSrc,silent:!0,formatter:a?typescriptFormatter:void 0})].filter(Boolean),node:{module:"empty",dgram:"empty",dns:"mock",fs:"empty",net:"empty",tls:"empty",child_process:"empty"},performance:!1}};